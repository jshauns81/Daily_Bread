<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#2E3440" />
    <base href="/" />
    
    <!-- Critical CSS to prevent flash - must be inline and comprehensive -->
    <style>
        html, body {
            background-color: #2E3440;
            color: #ECEFF4;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }
        /* Prevent layout shift during hydration */
        .page {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background-color: #2E3440;
        }
        .sidebar {
            background-color: #3B4252;
        }
        main {
            background-color: #2E3440;
            flex: 1;
        }
        /* Hide content until Blazor is ready - prevents FOUC */
        [b-loading] {
            visibility: hidden;
        }
    </style>
    
    <!-- Google Fonts - Inter for modern typography + Noto Color Emoji for emoji support -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Color+Emoji&display=swap" rel="stylesheet">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="lib/bootstrap-icons/font/bootstrap-icons.min.css" />
    
    <ResourcePreloader />
    <link rel="stylesheet" href="@Assets["lib/bootstrap/dist/css/bootstrap.min.css"]" />
    <link rel="stylesheet" href="@Assets["app.css"]" />
    <link rel="stylesheet" href="@Assets["Daily_Bread.styles.css"]" />
    <ImportMap />
    <link rel="icon" type="image/png" href="images/bread-icon.png" />
    <link rel="apple-touch-icon" href="images/bread-icon.png" />
    <HeadOutlet @rendermode="new InteractiveServerRenderMode(prerender: false)" />
</head>

<body>
    <CascadingAuthenticationState>
        <Routes @rendermode="new InteractiveServerRenderMode(prerender: false)" />
    </CascadingAuthenticationState>
    <ReconnectModal />
    <script src="@Assets["_framework/blazor.web.js"]"></script>
</body>

</html>
